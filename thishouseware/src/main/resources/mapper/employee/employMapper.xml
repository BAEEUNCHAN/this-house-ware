<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.contractor.app.employee.mapper.EmployeeMapper">
	<insert id="insertUser" parameterType="EmployeeVO">
		<selectKey keyProperty="id" 
			resultType="String" 
			order="BEFORE">
			SELECT  'emp'
				||TO_CHAR(SUBSTR(NVL( MAX(id),'emp99'),4)+1) 
			FROM employees
		</selectKey>
		INSERT INTO EMPLOYEES 
		(id, 
		PASSWORD, 
		PHONE, 
		EMAIL, 
		IMAGE_LINK, 
		DEPARTMENT_NO,
		hire_dt,
		position_code,
		name
		) 
		VALUES 
		(
		#{id},
		#{password}, 
		#{phone}, 
		#{email}, 
		#{imageLink}, 
		#{departmentNo},
		#{hireDt},
		#{positionCode},
		#{name}
		)
	</insert>	
</mapper>